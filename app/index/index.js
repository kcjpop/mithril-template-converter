"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_templateBuilder=require("app/converter/template-builder"),_templateBuilder2=_interopRequireDefault(_templateBuilder),INDENT_2="2",INDENT_4="4",INDENT_TAB="tab",INDENT_OPTIONS=[{label:"2 spaces",value:INDENT_2},{label:"4 spaces",value:INDENT_4},{label:"Tabs",value:INDENT_TAB}],QUOTE_OPTIONS=[{label:"Single quotes",value:{quote:"'",attributeQuote:'"'}},{label:"Double quotes",value:{quote:'"',attributeQuote:"'"}}],Settings=function(t){var e=function(e){e.preventDefault(),t.attrs.setSettings("indent",e.currentTarget.value)},l=function(e){e.preventDefault(),t.attrs.setSettings("useBracket",e.currentTarget.checked)};return{view:function(n){return(0,_mithril2.default)(".w-100.bg-light-gray.absolute.left-0.black.pa3.flex",{style:{top:"4rem"}},(0,_mithril2.default)(".w-33",(0,_mithril2.default)("h4.f6.ma0.mb3.ttu.tracked.near-black","Indent"),INDENT_OPTIONS.map(function(l){return(0,_mithril2.default)("label.dib.mr3",(0,_mithril2.default)("input.mr1[type=radio][name=ident][value="+l.value+"]",{checked:t.attrs.getSettings("indent")===l.value,onchange:e}),l.label)})),(0,_mithril2.default)(".w-33",(0,_mithril2.default)("h4.f6.ma0.mb3.ttu.tracked.near-black","Quotes"),QUOTE_OPTIONS.map(function(e){return(0,_mithril2.default)("label.dib.mr3",(0,_mithril2.default)("input.mr1[type=radio][name=quotes][value="+e.value+"]",{checked:t.attrs.getSettings("quote")===e.value}),e.label)})),(0,_mithril2.default)(".w-33",(0,_mithril2.default)("label.f6.fw6.ma0.mb3.ttu.tracked.near-black",(0,_mithril2.default)("input.mr1[type=checkbox]",{checked:t.attrs.getSettings("useBracket"),onchange:l}),"Use brackets for children nodes")))}}},App=function(t){var e={source:'\n    <ul class="nav">\n    \t<li>\n\n    \t\t\t<a href="../../../index.html">Overview</a>\n\n    \t</li>\n    \t<li>\n\n    \t\t\t<a href="../../../examples.html">Tutorials</a>\n\n    \t</li>\n    \t<li>\n\n    \t\t\t<a href="../../../reference-1.1.0.html">Docs</a>\n\n    \t</li>\n    \t<li>\n\n    \t\t\t<a href="../../../download.html">Download</a>\n\n    \t</li>\n    \t<li>\n\n    \t\t\t<a href="../../../plugins.html">Plugins</a>\n\n    \t</li>\n    \t<li>\n\n    \t\t\t<a href="../../../blog.html">Blog</a>\n\n    \t</li>\n    </ul>\n    ',output:"",settingsOpen:!0,settings:{indent:INDENT_2,useBracket:!1}},l=function(t){return e.settings[t]},n=function(t,l){return e.settings[t]=l},i=function(t){t.preventDefault(),e.source=t.currentTarget.value},a=function(t){return(0,_templateBuilder2.default)({source:e.source,indent:e.settings.indent,useBracket:e.settings.useBracket})},r=function(t){t.preventDefault(),e.settingsOpen=!e.settingsOpen},u=function(t){var l=[],n=e.settings.indent,i=INDENT_OPTIONS.filter(function(t){return t.value===n});return i[0]&&l.push("Indentation: "+i[0].label),l.join("")};return{view:function(t){return(0,_mithril2.default)(".flex.flex-wrap",(0,_mithril2.default)(".w-100.pa3.bg-dark-gray.near-white.h3.flex.items-center.justify-between",(0,_mithril2.default)("",(0,_mithril2.default)("h1.dib.ttu.tracked.f5.fw6.ma0","Mithril Template Converter"),(0,_mithril2.default)("span.f6.i.ml4",u())),(0,_mithril2.default)("a[href=#]",{onclick:r},"Settings "+(e.settingsOpen?"▲":"▼"))),e.settingsOpen?(0,_mithril2.default)(Settings,{getSettings:l,setSettings:n}):null,(0,_mithril2.default)(".w-50",{style:{height:"calc(100vh - 4.2rem)"}},(0,_mithril2.default)('textarea.code.f6.w-100.h-100[placeholder="Enter your code"]',{oninput:i})),(0,_mithril2.default)(".w-50",{style:{height:"calc(100vh - 4.2rem)"}},(0,_mithril2.default)('textarea.code.f6.w-100.h-100[placeholder="Mithril template will appear here. MAGIC!"]',{value:a()})))}}};_mithril2.default.mount(document.body,App);