"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _mithril=require("mithril"),_mithril2=_interopRequireDefault(_mithril),_menu=require("polythene/menu/menu"),_menu2=_interopRequireDefault(_menu),_button=require("polythene/button/button"),_button2=_interopRequireDefault(_button),_list=require("polythene/list/list"),_list2=_interopRequireDefault(_list),_listTile=require("polythene/list-tile/list-tile"),_listTile2=_interopRequireDefault(_listTile),STORAGE_KEY="mithril-template-converter__indent-index",storageAvailable=function(e){try{var t=window[e],i="__storage_test__";return t.setItem(i,i),t.removeItem(i),!0}catch(e){return!1}},settings={};settings.controller=function(e){var t=storageAvailable("localStorage")?localStorage.getItem(STORAGE_KEY):2;t=null===t?2:Math.max(0,Math.min(2,t));var i=[{title:"2 Spaces",id:"2"},{title:"4 Spaces",id:"4"},{title:"Tab",id:"tab"}],n=function(t){l.selectedIndex=t,localStorage.setItem(STORAGE_KEY,t),e.indentId(i[t].id)},l={show:!1,selectedIndex:t,options:i,setSelectedIndex:n};return n(t),{menu:l,setSelectedIndex:n}},settings.view=function(e){return(0,_mithril2.default)(".indent-selector",[_mithril2.default.component(_menu2.default,{target:"indent-selections",show:e.menu.show,hideDelay:.24,didHide:function(){e.menu.show=!1},size:5,offset:0,content:_mithril2.default.component(_list2.default,{hoverable:!0,tiles:e.menu.options.map(function(t,i){return _mithril2.default.component(_listTile2.default,{title:t.title,selected:i===e.menu.selectedIndex,ink:!0,events:{onclick:function(){return e.setSelectedIndex(i)}}})})})}),_mithril2.default.component(_button2.default,{id:"indent-selections",label:"Indent: "+e.menu.options[e.menu.selectedIndex].title,events:{onclick:function(){e.menu.show=!0}}})])},exports.default=settings;